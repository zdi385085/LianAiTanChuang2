<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python åœ¨çº¿è¿è¡Œå™¨</title>
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/python/cpython/Doc/logo.png">
  <style>
    body {
      font-family: "JetBrains Mono", Consolas, monospace;
      background-color: #0d1117;
      color: #c9d1d9;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    header {
      background-color: #161b22;
      padding: 10px 20px;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      color: #58a6ff;
      border-bottom: 1px solid #30363d;
    }
    textarea {
      flex: 1;
      width: 100%;
      resize: none;
      background-color: #0d1117;
      color: #c9d1d9;
      border: none;
      padding: 12px;
      font-size: 15px;
      line-height: 1.4;
      outline: none;
    }
    #output {
      background-color: #161b22;
      height: 35%;
      overflow-y: auto;
      border-top: 1px solid #30363d;
      padding: 10px;
      font-size: 14px;
      white-space: pre-wrap;
    }
    button {
      background-color: #238636;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 8px 14px;
      margin: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: 0.2s;
    }
    button:hover {
      background-color: #2ea043;
    }
    #toolbar {
      background-color: #161b22;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom: 1px solid #30363d;
    }
  </style>
</head>
<body>
  <header>ğŸ Python åœ¨çº¿è¿è¡Œå™¨ï¼ˆPyodideç‰ˆï¼‰</header>
  <div id="toolbar">
    <button id="runBtn">â–¶ï¸ è¿è¡Œ</button>
    <button id="clearBtn">ğŸ§¹ æ¸…ç©ºè¾“å‡º</button>
    <button id="exampleBtn">ğŸ’¡ ç¤ºä¾‹</button>
  </div>

  <textarea id="code" spellcheck="false">print("ä½ å¥½ï¼Œä¸–ç•Œï¼")
for i in range(3):
    print("Pythonè¿è¡ŒæˆåŠŸ âœ…", i+1)</textarea>
  
  <div id="output"></div>

  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
  <script>
    const outputDiv = document.getElementById("output");
    const codeArea = document.getElementById("code");

    function printOutput(text) {
      outputDiv.textContent += text + "\\n";
      outputDiv.scrollTop = outputDiv.scrollHeight;
    }

    async function main() {
      printOutput("â³ æ­£åœ¨åŠ è½½ Pyodideï¼Œè¯·ç¨å€™...");
      window.pyodide = await loadPyodide({indexURL: "https://cdn.jsdelivr.net/pyodide/v0.25.0/full/"});
      printOutput("âœ… Pyodide å·²åŠ è½½æˆåŠŸï¼Œå¯ä»¥è¿è¡Œ Python ä»£ç å•¦ï¼");
    }
    main();

    document.getElementById("runBtn").onclick = async () => {
      const code = codeArea.value;
      try {
        let result = await pyodide.runPythonAsync(code);
        if (result !== undefined) printOutput(result.toString());
      } catch (err) {
        printOutput("âŒ é”™è¯¯ï¼š" + err);
      }
    };

    document.getElementById("clearBtn").onclick = () => outputDiv.textContent = "";
    
    document.getElementById("exampleBtn").onclick = () => {
      codeArea.value = `# ç¤ºä¾‹ï¼šæ‰“å°å¿ƒå½¢å›¾æ¡ˆ
for y in range(15, -15, -1):
    row = ''
    for x in range(-30, 30):
        row += 'â¤' if ((x*0.05)**2 + (y*0.1)**2 - 1)**3 - (x*0.05)**2*(y*0.1)**3 <= 0 else ' '
    print(row)
`;
    };
  </script>
</body>
</html>
